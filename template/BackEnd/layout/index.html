{% load static %}
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Dashboard | Azul Claros</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      content="Premium Multipurpose Admin & Dashboard Template"
      name="description"
    />
    <meta content="Themesbrand" name="author" />
    <!-- App favicon -->
    <link rel="shortcut icon" href="{% static 'BackEnd/assets/images/Laundry_Icon_Blue.ico'%}" />

    <link
      href="{% static 'BackEnd/assets/libs/metrojs/release/MetroJs.Full/MetroJs.min.css' %}"
      rel="stylesheet"
      type="text/css"
    />

    <!-- Bootstrap Css -->
    <link
      href="{% static 'BackEnd/assets/css/bootstrap.min.css' %}"
      id="bootstrap-style"
      rel="stylesheet"
      type="text/css"
    />
    <!-- Icons Css -->
    <link
      href="{% static 'BackEnd/assets/css/icons.min.css' %}"
      rel="stylesheet"
      type="text/css"
    />
    <!-- App Css-->
    <link
      href="{% static 'BackEnd/assets/css/app.min.css' %}"
      id="app-style"
      rel="stylesheet"
      type="text/css"
    />

    <!-- Plugins css -->
    <link href="{% static 'BackEnd/assets/libs/dropzone/min/dropzone.min.css' %}" rel="stylesheet" type="text/css" />
    <link href="{% static 'BackEnd/assets/libs/dropify/css/dropify.min.css' %}" rel="stylesheet" type="text/css" />

    <!-- Sweet Alert-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" integrity="sha512-vKMx8UnXk60zUwyUnUPM3HbQo8QfmNx7+ltw8Pm5zLusl1XIfwcxo8DbWCqMGKaWeNxWA8yrx5v3SaVpMvR3CA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="{% static 'BackEnd/assets/libs/sweetalert2/sweetalert2.min.css' %}" rel="stylesheet" type="text/css" />

    <link href="{% static 'BackEnd/assets/libs/select2/css/select2.min.css' %}" rel="stylesheet" type="text/css" />
    <link href="{% static 'BackEnd/assets/libs/bootstrap-datepicker/css/bootstrap-datepicker.min.css' %}" rel="stylesheet">
    <link href="{% static 'BackEnd/assets/libs/spectrum-colorpicker2/spectrum.min.css' %}" rel="stylesheet" type="text/css">
    <link href="{% static 'BackEnd/assets/libs/bootstrap-touchspin/jquery.bootstrap-touchspin.min.css' %}" rel="stylesheet" />


  </head>

  <body data-topbar="dark">
    <!-- Begin page -->
    <div id="layout-wrapper">
      {% include "BackEnd/layout/MenuSuperior.html" %}
      

      <!-- ========== Left Sidebar Start ========== -->
      
      {% include "BackEnd/layout/MenuLateral.html" %}
      <!-- Left Sidebar End -->

      <!-- ============================================================== -->
      <!-- Start right Content here -->
      <!-- ============================================================== -->
      {% block Conteudo %}
      
      {% endblock  %}
      <!-- end main content-->
    </div>
    <!-- END layout-wrapper -->

    <!-- Right Sidebar -->
    <div class="right-bar">
      <div data-simplebar class="h-100">
        <div class="rightbar-title px-3 py-4">
          <a href="javascript:void(0);" class="right-bar-toggle float-end">
            <i class="mdi mdi-close noti-icon"></i>
          </a>
          <h5 class="m-0">Configuração</h5>
        </div>

        <!-- Settings -->
        <hr />
        <h6 class="text-center mb-0">Escolha o Tema</h6>

        <div class="p-4">
          <div class="mb-2">
            <img
              src="{% static 'BackEnd/assets/images/layouts/layout-1.jpg' %}"
              class="img-fluid img-thumbnail"
              alt=""
            />
          </div>
          <div class="form-check form-switch mb-3">
            <input
              type="checkbox"
              class="form-check-input theme-choice"
              id="light-mode-switch"
              checked
            />
            <label class="custom-control-label" for="light-mode-switch"
              >Modo Claro</label
            >
          </div>

          <div class="mb-2">
            <img
              src="{% static 'BackEnd/assets/images/layouts/layout-2.jpg'%}"
              class="img-fluid img-thumbnail"
              alt=""
            />
          </div>
          <div class="form-check form-switch mb-3">
            <input
              type="checkbox"
              class="form-check-input theme-choice"
              id="dark-mode-switch"
              data-bsStyle="{% static 'BackEnd/assets/css/bootstrap-dark.min.css'%}"
              data-appStyle="{% static 'BackEnd/assets/css/app-dark.min.css' %}"
            />
            <label class="custom-control-label" for="dark-mode-switch"
              >Modo Escuro</label
            >
          </div>
        </div>
      </div>
      <!-- end slimscroll-menu-->
    </div>
    <!-- /Right-bar -->

    <!-- Right bar overlay-->
    <div class="rightbar-overlay"></div>

    <!-- JAVASCRIPT -->
    <script src="{% static 'BackEnd/assets/libs/jquery/jquery.min.js' %}"></script>
    <script src="{% static 'BackEnd/assets/libs/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
    <script src="{% static 'BackEnd/assets/libs/metismenu/metisMenu.min.js' %}"></script>
    <script src="{% static 'BackEnd/assets/libs/simplebar/simplebar.min.js' %}"></script>
    <script src="{% static 'BackEnd/assets/libs/node-waves/waves.min.js' %}"></script>

    <!--Morris Chart-->

    <script src="{% static 'BackEnd/assets/libs/morris.js/morris.min.js' %}"></script>
    <script src="{% static 'BackEnd/assets/libs/raphael/raphael.min.js' %}"></script>
    <script src="{% static 'BackEnd/assets/libs/jquery-knob/jquery.knob.min.js' %}"></script>
    <script src="{% static 'BackEnd/assets/libs/metrojs/release/MetroJs.Full/MetroJs.min.js' %}"></script>

    <script src="{% static 'BackEnd/assets/js/pages/dashboard.init.js' %}"></script>

    <script src="{% static 'BackEnd/assets/js/app.js' %}"></script>

    <!-- Plugins js -->
    <script src="{% static 'BackEnd/assets/libs/dropzone/min/dropzone.min.js' %}"></script>
    <script src="{% static 'BackEnd/assets/libs/dropify/js/dropify.min.js' %}"></script>

    <script src="{% static 'BackEnd/assets/js/pages/form-fileuploads.init.js' %}"></script>

    <!-- Sweet Alerts js -->
    <script src="{% static 'BackEnd/assets/libs/sweetalert2/sweetalert2.min.js' %}"></script>

    <!-- Sweet alert init js-->
    <script src="{% static 'BackEnd/assets/js/pages/sweet-alerts.init.js' %}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js" integrity="sha512-VEd+nq25CkR676O+pLBnDW09R7VQX9Mdiij052gVCp5yVH3jGtH70Ho/UUv4mJDsEdTvqRCFZg0NKGiojGnUCw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="{% static 'BackEnd/assets/libs/select2/js/select2.min.js' %}"></script>
    <script src="{% static 'BackEnd/assets/libs/bootstrap-datepicker/js/bootstrap-datepicker.min.js' %}"></script>
    <script src="{% static 'BackEnd/assets/libs/spectrum-colorpicker2/spectrum.min.js' %}"></script>
    <script src="{% static 'BackEnd/assets/libs/bootstrap-touchspin/jquery.bootstrap-touchspin.min.js' %}"></script>
    <script src="{% static 'BackEnd/assets/libs/bootstrap-maxlength/bootstrap-maxlength.min.js' %}"></script>
    <!-- google maps api -->
    <script src="https://maps.google.com/maps/api/js?key=AIzaSyCtSAR45TFgZjOs4nBFFZnII-6mMHLfSYI"></script>

    <!-- Gmaps file -->
    <script src="{% static 'BackEnd/assets/libs/gmaps/gmaps.min.js' %}"></script>

    <script src="{% static 'BackEnd/assets/libs/dropify/js/dropify.min.js' %}"></script>

    <!-- Magnific Popup-->
    <script src="{% static 'BackEnd/assets/libs/magnific-popup/jquery.magnific-popup.min.js' %}"></script>

    <!-- Chart JS -->
    <script src="{% static 'BackEnd/assets/libs/chart.js/Chart.bundle.min.js' %}"></script>

    <script src="{% static 'BackEnd/assets/js/pages/profile.init.js' %}"></script>

   {% comment %}  @if(Session::has('message'))
    <script>
        var type = "{{Session::get('alert-type','info')}}"
        switch (type) {
            case 'info':
                toastr.info("{{Session::get('message')}}")
                break;

            case 'success':
                toastr.success("{{Session::get('message')}}")
                break;

            case 'warning':
                toastr.warning("{{Session::get('message')}}")
                break;

            case 'error':
                toastr.error("{{Session::get('message')}}")
                break;
        }
    </script>
    @endif {% endcomment %}

    <script>
      document.addEventListener('DOMContentLoaded', function() {
        var CliModal = document.getElementById('atenderCliModal');
        var FormCli = document.getElementById('FormAtender');
        var metodoPagamentoSelect = document.getElementById('metodo-pagamento');
        var ref = document.getElementById('divRef');
        var pag = document.getElementById('divPag');

        $("#tabela tbody").on("click", "#AtenderButton", function(e){
          var $this = $(this);
          $("#FormAtender").attr("action", $this.attr('href'));
        });
        
        CliModal.addEventListener('show.bs.modal', function(event) {
          
          var button = event.relatedTarget; // Botão que acionou o modal
          
          // Extraia as informações dos atributos de dados
          var codigo = button.getAttribute('data-codigo');
          var nome = button.getAttribute('data-nome');
          var data_reserva = button.getAttribute('data-data_reserva');
          var data_entrada = button.getAttribute('data-data_entrada');
          var total = button.getAttribute('data-total');
          
          // Atualize os elementos do modal com os dados do cliente
          var modalTitle = CliModal.querySelector('.modal-title');
          var modalBodyInputCodigo = CliModal.querySelector('.modal-body #codigo_reserva');
          var modalBodyInputNome = CliModal.querySelector('.modal-body #cliente_nome');
          var modalBodyInputDataReserva = CliModal.querySelector('.modal-body #data_reserva');
          var modalBodyInputDataEntrada = CliModal.querySelector('.modal-body #data_entrada');
          var modalBodyInputTotal = CliModal.querySelector('.modal-body #total');
          var modalBodyInputTotalPag = CliModal.querySelector('.modal-body #totalPagamento');
          var modalBodyInputRef = CliModal.querySelector('.modal-body #ref');
          
          modalTitle.textContent = 'Detalhes da Reserva ' + codigo;
          modalBodyInputCodigo.textContent = codigo;
          modalBodyInputNome.textContent = nome;
          modalBodyInputDataReserva.textContent = data_reserva;
          modalBodyInputDataEntrada.textContent = data_entrada;
          modalBodyInputTotal.textContent = total + ' Kz';
          modalBodyInputTotalPag.textContent = total ? total + ' KZ' : 0;
          modalBodyInputRef.textContent = '1234567890';

          //Tratar do Pagamento
          function toggleFields() {
            var selectedMetodo = metodoPagamentoSelect.options[metodoPagamentoSelect.selectedIndex].text;
            if (selectedMetodo === 'Cartão') {
                ref.style.display = 'block';
                pag.style.display = 'none';
            } else if(selectedMetodo === 'Dinheiro') {
                ref.style.display = 'none';
                pag.style.display = 'block';
            }else{
                ref.style.display = 'none';
                pag.style.display = 'none';
            }
        }

        metodoPagamentoSelect.addEventListener('change', toggleFields);
        toggleFields(); // Chamada inicial
        });

        $("#FormAtender").on("submit", function(e){
          let $this = $(this);
          let data = $this.serialize()
          /*$.ajax({
            url: $this.attr("action"),
            type: "POST",
            data: data,
          });*/
        });
      });
    </script>
  </body>
</html>
